process ResoAnalyser  = {
   
   # just to see that something is happening
     include "FWCore/MessageLogger/data/MessageLogger.cfi"
     replace MessageLogger.cerr.threshold = "ERROR"

     # input file (start from Layer1 ROOT-file)
     source = PoolSource {
            untracked vstring fileNames =
            {
               "dcap://maite.iihe.ac.be/pnfs/iihe/becms/heyninck/ResolutionInput_tt0j/TopObjects_1.root"
	    }
            untracked int32   maxEvents = -1
            untracked uint32 skipEvents = 0
     }
     
   # Construct the MC Generated Ttbar Event
     include "TopQuarkAnalysis/TopEventProducers/data/TtGenEvtProducer.cff"

   # modules to make the resolutions 
   # object can be "electron", "muon", "met", "lJets", "bJets", "tau"
   
   
     module electronresolutions = ResolutionCreator{
       string  	object    	= "electron" 
       string  	label  		= "allLayer1TopElectrons"
       double  	minMatchingDR	= 0.1
       vdouble 	etabinValues 	= {0,0.175,0.35,0.5125,0.6875,0.875,1.075,1.3,1.575,1.9,2.5}
       vdouble 	eTbinValues  	= {15,22,28,35,41,49,57,68,81,104,200}
     }
   
     module muonresolutions  = ResolutionCreator{
       string  	object    	= "muon" 
       string  	label  		= "allLayer1TopMuons"
       double  	minMatchingDR	= 0.1
       vdouble 	etabinValues 	= {0,0.175,0.35,0.5125,0.6875,0.875,1.075,1.3,1.575,1.9,2.5}
       vdouble 	eTbinValues  	= {15,22,28,35,41,49,57,68,81,104,200}
     }
     
     module ljetresolutions  = ResolutionCreator{
       string  	object    	= "lJets" 
       string  	label  		= "MCJetCorJetIcone5"
       double  	minMatchingDR	= 0.3
       vdouble 	etabinValues 	= {0, 0.175, 0.3625, 0.5375, 0.725, 0.925, 1.15, 1.4, 1.7, 2.075, 2.5}
       vdouble 	eTbinValues  	= {20,28,36,44,52,60,70,82,99,124,200}
     }
 
     module bjetresolutions  = ResolutionCreator{
       string  	object    	= "bJets" 
       string  	label  		= "MCJetCorJetIcone5"
       double  	minMatchingDR	= 0.3
       vdouble 	etabinValues 	= {0, 0.175, 0.3625, 0.5375, 0.725, 0.925, 1.15, 1.4, 1.7, 2.075, 2.5}
       vdouble 	eTbinValues  	= {20,31,40,49,58,67,78,91,107,133,200}
     }
	  	
     module metresolutions  = ResolutionCreator{
       string  	object    	= "met" 
       string  	label  		= "corMetType1Icone5"
       double  	minMatchingDR	= 1000.
       vdouble 	eTbinValues  	= {20,29,37,44,51,59,69,80,96,122,200}	
     } 

     module tauresolutions  = ResolutionCreator{
       string  	object    	= "tau" 
       string  	label  		= "allLayer1TopTaus"
       double  	minMatchingDR	= 0.2
       vdouble 	etabinValues 	= {0,0.175,0.3625,0.5375,0.725,0.925,1.15,1.4,1.7,2.075,2.5} //{0,2.5} 
       vdouble 	eTbinValues  	= {2,20,28,36,44,52,60,70,82,99,124,200} //{20,30,45,70,120}
     }
     
    path p = {makeGenEvt, electronresolutions, muonresolutions, ljetresolutions, bjetresolutions, metresolutions}# tauresolutions}

}
